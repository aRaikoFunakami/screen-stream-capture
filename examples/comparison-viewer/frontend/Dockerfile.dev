# 開発用 Dockerfile
# 注意: docker-compose.yml でボリュームマウントするため、
# ソースコードのコピーは最小限にする（依存関係インストール用のみ）
FROM node:20-alpine

WORKDIR /app

# react-android-screen パッケージをコピー（npm install 時に必要）
COPY packages/react-android-screen /app/packages/react-android-screen

# package.json のみコピーして依存関係をインストール
# （ソースは docker-compose でマウントされる）
COPY examples/comparison-viewer/frontend/package.json /app/frontend/

WORKDIR /app/frontend

# 依存関係をインストール
RUN npm install

EXPOSE 5174

# 開発サーバーを起動
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
